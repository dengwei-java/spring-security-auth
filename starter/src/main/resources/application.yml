
server:
  port: 9000
  context-path: '/crm'
  connection-timeout: 600000

#mybatis扫描的文件夹
mybatis:
  mapper-locations: classpath*:mapper/*Mapper.xml
  configuration:
    database-id: MySQL
spring:
  activiti:
    database-schema-update: true
  http:
    multipart:
      max-file-size: 100MB
      max-request-size: 1000MB

---
spring:
  profiles: dev
  datasource:
    druid:
      driver-class-name: com.mysql.jdbc.Driver
      url: jdbc:mysql://192.168.2.241:3306/crm-dev?useSSL=false&characterEncoding=utf8&autoReconnect=true&failOverReadOnly=false
      username: root
      password: **
      filters: stat
       # 配置初始化大小、最小、最大
      maxActive: 20
      initialSize: 1
       #配置获取连接等待超时的时间
      maxWait: 60000
      minIdle: 1
       #配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒
      timeBetweenEvictionRunsMillis: 6000
        #配置一个连接在池中最小生存的时间，单位是毫秒
      minEvictableIdleTimeMillis: 30000
       #测试连接
      validationQuery: select 'x'
       #申请连接的时候检测，建议配置为true，不影响性能，并且保证安全性
      testWhileIdle:  true
       #获取连接时执行检测，建议关闭，影响性能
      testOnBorrow: false
       #归还连接时执行检测，建议关闭，影响性能
      testOnReturn: false
       #是否开启PSCache，PSCache对支持游标的数据库性能提升巨大，oracle建议开启，mysql下建议关闭
      poolPreparedStatements: true
       #开启poolPreparedStatements后生效
      maxOpenPreparedStatements: 20
      #配置扩展插件，常用的插件有=>stat:监控统计  log4j:日志  wall:防御sql注入
      filter:
        stat:
          log-slow-sql: true
          slow-sql-millis: 2000
---
spring:
  profiles: test
  datasource:
    druid:
      driver-class-name: com.mysql.jdbc.Driver
      url: jdbc:mysql://192.168.2.241:3306/crm-test?useSSL=false&characterEncoding=utf8&autoReconnect=true&failOverReadOnly=false
      username: root
      password: **
      filters: stat
      maxActive: 20
      initialSize: 1
      maxWait: 60000
      minIdle: 1
      timeBetweenEvictionRunsMillis: 6000
      minEvictableIdleTimeMillis: 30000
      validationQuery: select 'x'
      testWhileIdle:  true
      testOnBorrow: false
      testOnReturn: false
      poolPreparedStatements: true
      maxOpenPreparedStatements: 20